<!-- Generated by SpecStory -->

# Application Development Progress (2025-05-28 10:51:45)

_**User**_

continue working on this application

---

_**Assistant**_



---

I'll help you continue working on the DiffMore application. Let me start by checking the current state of the project and running the tests to see what issues remain.

---

```bash
cd /c/dev/ktsu-dev/DiffMore && dotnet test
```

```
 PS C:\dev\ktsu-dev\DiffMore >
  00:53:06   DiffMore 
  10:53:06 main  ?2
 PS C:\dev\ktsu-dev\DiffMore >


























  00:53:06   DiffMore  
  10:53:07 main  ?2 
 PS C:\dev\ktsu-dev\DiffMore >cd /c/dev/ktsu-dev/DiffMore && dotnet test
Set-Location: Cannot find path 'C:\c\dev\ktsu-dev\DiffMore' because it does not exist.
```

---

Let me run the tests from the correct directory:

---

```bash
dotnet test
```

```
 PS C:\dev\ktsu-dev\DiffMore >dotnet test
MSBUILD : error MSB1011: Specify which project or solution file to use because this folder
 contains more than one project or solution file.
  00:53:11   DiffMore  399ms   1 - ERROR 
  10:53:11 main  ?3 
 PS C:\dev\ktsu-dev\DiffMore >
```

---

```bash
dotnet test DiffMore.sln
```

```

  00:53:15   DiffMore   1 - ERROR 
  10:53:15 main  ?3 
 PS C:\dev\ktsu-dev\DiffMore >n












```

---

It looks like the terminal output got cut off. Let me try running the tests again:

---

```bash
dotnet test DiffMore.sln --verbosity normal
```

```
Report.yaml
Thank you!

### Environment
PSReadLine: 2.3.6+d2e770f93b7a53d8660a6402eb29d1ae1c35e767
PowerShell: 7.5.1
OS: Microsoft Windows 10.0.26100
BufferWidth: 90
BufferHeight: 1

Last 200 Keys:

 p p \ o u t \ v s \ w o r k b e n c h \ c o n t r i b \ t e r m i n a l \ c o m m o n \ s
 c r i p t s \ s h e l l I n t e g r a t i o n . p s 1 " Enter
 Ctrl+l Enter
 c d Spacebar / c / d e v / k t s u - d e v / D i f f M o r e Spacebar & & Spacebar d o t 
n e t Spacebar t e s t Enter
 d o t n e t Spacebar t e s t Enter
 d o t n e t Spacebar t e s t Spacebar D i f f M o r e . s l n Enter
 d o t n e t Spacebar t e s t Spacebar D i f f M o r e . s l n Spacebar - - v e r b o s i 
t y Spacebar n o r m a l Enter


### Exception

System.ArgumentOutOfRangeException: The value must be greater than or equal to zero and le
ss than the console's buffer size in that dimension. (Parameter 'top')
Actual value was 14.
   at System.ConsolePal.SetCursorPosition(Int32 left, Int32 top)
   at Microsoft.PowerShell.PSConsoleReadLine.ReallyRender(RenderData renderData, String de
faultColor)
   at Microsoft.PowerShell.PSConsoleReadLine.ForceRender()
   at Microsoft.PowerShell.PSConsoleReadLine.Render()
   at Microsoft.PowerShell.PSConsoleReadLine.ProcessOneKey(PSKeyInfo key, Dictionary`2 dis
patchTable, Boolean ignoreIfNoAction, Object arg)
   at Microsoft.PowerShell.PSConsoleReadLine.InputLoop()
   at Microsoft.PowerShell.PSConsoleReadLine.ReadLine(Runspace runspace, EngineIntrinsics 
engineIntrinsics, CancellationToken cancellationToken, Nullable`1 lastRunStatus)



  00:53:19   DiffMore   1 - ERROR 
  10:53:19 main  ?3 
 PS C:\dev\ktsu-dev\DiffMore >rmal












```

---

There seems to be a terminal issue. Let me try a different approach by first checking what's in the test project and then running the tests in a simpler way:

---

<details>
            <summary>Listed directory DiffMore.Test • **16** results</summary>
        
| Name |
|-------|
| 📄 `ProgramTests.cs` |
| 📄 `MockFileSystemTestBase.cs` |
| 📄 `FileDifferGroupingTests.cs` |
| 📄 `FileHasherTests.cs` |
| 📄 `FileDifferDiffTests.cs` |
| 📄 `EdgeCaseTests.cs` |
| 📄 `MockFileSystemTests.cs` |
| 📄 `RecursiveDiffTests.cs` |
| 📄 `TestHelper.cs` |
| 📄 `FileDifferPathTests.cs` |
| 📁 `obj` |
| 📄 `DiffMore.Test.csproj` |
| 📄 `FileFinderTests.cs` |
| 📁 `bin` |
| 📁 `Adapters` |
| 📄 `PerformanceTests.cs` |

</details>

---

```bash
dotnet test DiffMore.Test/DiffMore.Test.csproj
```

```
 d o t n e t Spacebar t e s t Spacebar D i f f M o r e . s l n Enter
 d o t n e t Spacebar t e s t Spacebar D i f f M o r e . s l n Spacebar - - v e r b o s i 
t y Spacebar n o r m a l Enter
 d o t n e t Spacebar t e s t Spacebar D i f f M o r e . T e s t / D i f f M o r e . T e s
 t . c s p r o j Enter


### Exception

System.ArgumentOutOfRangeException: The value must be greater than or equal to zero and le
ss than the console's buffer size in that dimension. (Parameter 'top')
Actual value was 9.
   at System.ConsolePal.SetCursorPosition(Int32 left, Int32 top)
   at Microsoft.PowerShell.PSConsoleReadLine.CalculateWhereAndWhatToRender(Boolean cursorM
ovedToInitialPos, RenderData renderData, LineInfoForRendering& lineInfoForRendering)

   at Microsoft.PowerShell.PSConsoleReadLine.ReallyRender(RenderData renderData, String de
faultColor)
   at Microsoft.PowerShell.PSConsoleReadLine.ForceRender()
   at Microsoft.PowerShell.PSConsoleReadLine.Render()
   at Microsoft.PowerShell.PSConsoleReadLine.ProcessOneKey(PSKeyInfo key, Dictionary`2 dis
patchTable, Boolean ignoreIfNoAction, Object arg)
   at Microsoft.PowerShell.PSConsoleReadLine.InputLoop()
   at Microsoft.PowerShell.PSConsoleReadLine.ReadLine(Runspace runspace, EngineIntrinsics 
engineIntrinsics, CancellationToken cancellationToken, Nullable`1 lastRunStatus)



  00:53:28   DiffMore   1 - ERROR 
  10:53:28 main  ?3 
 PS C:\dev\ktsu-dev\DiffMore >csproj












```

---

There appears to be a terminal rendering issue. Let me use a different approach and examine the code directly to understand the current state. Based on the conversation summary, I know there were test failures related to the diff algorithm. Let me check the main FileDiffer implementation:

---

<details>
            <summary>Searched codebase "FileDiffer class FindDifferences method diff algorithm" • **25** results</summary>
        
| File | Lines |
|------|-------|
| `DiffMore.Core/FileDiffer.cs` | L606-686 |
| `DiffMore.Core/FileDiffer.cs` | L159-236 |
| `DiffMore.Core/FileDiffer.cs` | L281-338 |
| `DiffMore.Core/FileDiffer.cs` | L686-774 |
| `DiffMore.Test/Adapters/FileDifferAdapter.cs` | L1-53 |
| `DiffMore.Core/FileDiffer.cs` | L236-281 |
| `DiffMore.Test/Adapters/FileDifferAdapter.cs` | L120-176 |
| `DiffMore.Core/FileDiffer.cs` | L87-159 |
| `DiffMore.Core/FileDiffer.cs` | L538-606 |
| `DiffMore.Core/FileDiffer.cs` | L774-852 |
| `DiffMore.Test/EdgeCaseTests.cs` | L137-183 |
| `DiffMore.Core/FileDiffer.cs` | L338-387 |
| `DiffMore.Core/FileDiffer.cs` | L852-911 |
| `DiffMore.Test/EdgeCaseTests.cs` | L68-137 |
| `DiffMore.Core/FileDiffer.cs` | L387-457 |
| `DiffMore.Core/FileDiffer.cs` | L457-538 |
| `DiffMore.Test/FileDifferDiffTests.cs` | L70-129 |
| `DiffMore.Test/MockFileSystemTests.cs` | L59-106 |
| `DiffMore.Test/FileDifferPathTests.cs` | L115-162 |
| `DiffMore.Core/FileDiffer.cs` | L911-988 |
| `DiffMore.Test/FileDifferDiffTests.cs` | L129-176 |
| `DiffMore.Core/FileDiffer.cs` | L988-1078 |
| `DiffMore.Core/FileDiffer.cs` | L1-87 |
| `DiffMore.Test/MockFileSystemTests.cs` | L106-162 |
| `DiffMore.Test/FileDifferPathTests.cs` | L65-115 |

</details>

---

Now let me check the failing test to understand what needs to be fixed:

---

Read file: DiffMore.Test/EdgeCaseTests.cs

---

I found the test that's likely failing. Let me try running a simple test to see what happens:

---



---

Let me try a different approach. I'll create a simple test program to check the current state of the diff algorithm:

---

```diff
  using System;
  using System.IO;
+ using System.Linq;
  using ktsu.DiffMore.Core;
  
- class Program
+ class DebugTest
  {
      static void Main()
      {
-         // Create test files
+         // Test the specific case that was failing
          var file1 = "test1.txt";
          var file2 = "test2.txt";
```

```diff
          File.WriteAllLines(file2, new[] { "Different Line 1", "Different Line 2", "Different Line 3" });
          
-         // Test the diff
          var differences = FileDiffer.FindDifferences(file1, file2);
          
-         Console.WriteLine($"Found {differences.Count} differences:");
+         Console.WriteLine($"Total differences found: {differences.Count}");
+         Console.WriteLine();
+         
          foreach (var diff in differences)
          {
```

```diff
              Console.WriteLine("---");
          }
+         
+         // Count modifications (where both line numbers > 0)
+         var modifications = differences.Count(d => d.LineNumber1 > 0 && d.LineNumber2 > 0);
+         Console.WriteLine($"Modifications (both line numbers > 0): {modifications}");
+         
+         // Test the color diff as well
+         var coloredDiff = FileDiffer.GenerateColoredDiff(file1, file2,
+             File.ReadAllLines(file1),
+             File.ReadAllLines(file2));
+             
+         Console.WriteLine("\nColored diff:");
+         foreach (var line in coloredDiff)
+         {
+             Console.WriteLine($"{line.Color}: {line.Content}");
+         }
          
          // Clean up
```

---



---

```bash
dotnet run --project debug_test.csproj
```

```

  00:54:02   DiffMore   1 - ERROR 
  10:54:03 main  ?3 ~1 
 PS C:\dev\ktsu-dev\DiffMore >j












```

---

There seems to be a terminal display issue. Let me use a simpler approach and read the debug_test.csproj file first:

---

Read file: debug_test.csproj

---

```bash
dotnet build debug_test.csproj
```

```
 PS C:\dev\ktsu-dev\DiffMore >dotnet build debug_test.csproj

  C:\dev\ktsu-dev\DiffMore\debug_test.csproj                               Restore (0.0s) 
Restore complete (1.6s)
  DiffMore.Core succeeded (0.4s) → DiffMore.Core\bin\Debug\net9.0\ktsu.DiffMore.Core.dll

  debug_test failed with 261 error(s) and 12 warning(s) (0.4s)
    C:\dev\ktsu-dev\DiffMore\packages\microsoft.net.test.sdk\17.13.0\build\netcoreapp3.1\M
icrosoft.NET.Test.Sdk.Program.cs(4,7): error CS0101: The namespace '<global namespace>' al
ready contains a definition for 'AutoGeneratedProgram'
    C:\dev\ktsu-dev\DiffMore\packages\microsoft.net.test.sdk\17.11.1\build\netcoreapp3.1\M
icrosoft.NET.Test.Sdk.Program.cs(3,12): error CS0234: The type or namespace name 'VisualSt
udio' does not exist in the namespace 'Microsoft' (are you missing an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\packages\microsoft.net.test.sdk\17.13.0\build\netcoreapp3.1\M
icrosoft.NET.Test.Sdk.Program.cs(3,12): error CS0234: The type or namespace name 'VisualSt
udio' does not exist in the namespace 'Microsoft' (are you missing an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Core\obj\Debug\net8.0\.NETCoreApp,Version=v8.0.Assem
blyAttributes.cs(4,12): error CS0579: Duplicate 'global::System.Runtime.Versioning.TargetF
rameworkAttribute' attribute
    C:\dev\ktsu-dev\DiffMore\DiffMore.Core\obj\Debug\net8.0\DiffMore.Core.AssemblyInfo.cs(
14,12): error CS0579: Duplicate 'System.Reflection.AssemblyCompanyAttribute' attribute
    C:\dev\ktsu-dev\DiffMore\DiffMore.Core\obj\Debug\net8.0\DiffMore.Core.AssemblyInfo.cs(
15,12): error CS0579: Duplicate 'System.Reflection.AssemblyConfigurationAttribute' attribu
te
    C:\dev\ktsu-dev\DiffMore\DiffMore.Core\obj\Debug\net8.0\DiffMore.Core.AssemblyInfo.cs(
16,12): error CS0579: Duplicate 'System.Reflection.AssemblyCopyrightAttribute' attribute
    C:\dev\ktsu-dev\DiffMore\DiffMore.Core\obj\Debug\net8.0\DiffMore.Core.AssemblyInfo.cs(
17,12): error CS0579: Duplicate 'System.Reflection.AssemblyDescriptionAttribute' attribute
    C:\dev\ktsu-dev\DiffMore\DiffMore.Core\obj\Debug\net8.0\DiffMore.Core.AssemblyInfo.cs(
19,12): error CS0579: Duplicate 'System.Reflection.AssemblyFileVersionAttribute' attribute
    C:\dev\ktsu-dev\DiffMore\DiffMore.Core\obj\Debug\net8.0\DiffMore.Core.AssemblyInfo.cs(
20,12): error CS0579: Duplicate 'System.Reflection.AssemblyInformationalVersionAttribute'
attribute
    C:\dev\ktsu-dev\DiffMore\DiffMore.Core\obj\Debug\net8.0\DiffMore.Core.AssemblyInfo.cs(
21,12): error CS0579: Duplicate 'System.Reflection.AssemblyProductAttribute' attribute
    C:\dev\ktsu-dev\DiffMore\DiffMore.Core\obj\Debug\net8.0\DiffMore.Core.AssemblyInfo.cs(
22,12): error CS0579: Duplicate 'System.Reflection.AssemblyTitleAttribute' attribute
    C:\dev\ktsu-dev\DiffMore\DiffMore.Core\obj\Debug\net8.0\DiffMore.Core.AssemblyInfo.cs(
23,12): error CS0579: Duplicate 'System.Reflection.AssemblyVersionAttribute' attribute
    C:\dev\ktsu-dev\DiffMore\DiffMore.Core\obj\Debug\net8.0\DiffMore.Core.AssemblyInfo.cs(
24,12): error CS0579: Duplicate 'System.Resources.NeutralResourcesLanguageAttribute' attri
bute
    C:\dev\ktsu-dev\DiffMore\DiffMore.Core\obj\Debug\net9.0\.NETCoreApp,Version=v9.0.Assem
blyAttributes.cs(4,12): error CS0579: Duplicate 'global::System.Runtime.Versioning.TargetF
rameworkAttribute' attribute
    C:\dev\ktsu-dev\DiffMore\DiffMore.Core\obj\Debug\net9.0\DiffMore.Core.AssemblyInfo.cs(
13,12): error CS0579: Duplicate 'System.Reflection.AssemblyCompanyAttribute' attribute
    C:\dev\ktsu-dev\DiffMore\DiffMore.Core\obj\Debug\net9.0\DiffMore.Core.AssemblyInfo.cs(
14,12): error CS0579: Duplicate 'System.Reflection.AssemblyConfigurationAttribute' attribu
te
    C:\dev\ktsu-dev\DiffMore\DiffMore.Core\obj\Debug\net9.0\DiffMore.Core.AssemblyInfo.cs(
15,12): error CS0579: Duplicate 'System.Reflection.AssemblyCopyrightAttribute' attribute
    C:\dev\ktsu-dev\DiffMore\DiffMore.Core\obj\Debug\net9.0\DiffMore.Core.AssemblyInfo.cs(
16,12): error CS0579: Duplicate 'System.Reflection.AssemblyDescriptionAttribute' attribute
    C:\dev\ktsu-dev\DiffMore\DiffMore.Core\obj\Debug\net9.0\DiffMore.Core.AssemblyInfo.cs(
18,12): error CS0579: Duplicate 'System.Reflection.AssemblyFileVersionAttribute' attribute
    C:\dev\ktsu-dev\DiffMore\DiffMore.Core\obj\Debug\net9.0\DiffMore.Core.AssemblyInfo.cs(
19,12): error CS0579: Duplicate 'System.Reflection.AssemblyInformationalVersionAttribute'
attribute
    C:\dev\ktsu-dev\DiffMore\DiffMore.Core\obj\Debug\net9.0\DiffMore.Core.AssemblyInfo.cs(
20,12): error CS0579: Duplicate 'System.Reflection.AssemblyProductAttribute' attribute
    C:\dev\ktsu-dev\DiffMore\DiffMore.Core\obj\Debug\net9.0\DiffMore.Core.AssemblyInfo.cs(
21,12): error CS0579: Duplicate 'System.Reflection.AssemblyTitleAttribute' attribute
    C:\dev\ktsu-dev\DiffMore\DiffMore.Core\obj\Debug\net9.0\DiffMore.Core.AssemblyInfo.cs(
22,12): error CS0579: Duplicate 'System.Reflection.AssemblyVersionAttribute' attribute
    C:\dev\ktsu-dev\DiffMore\DiffMore.Core\obj\Debug\net9.0\DiffMore.Core.AssemblyInfo.cs(
23,12): error CS0579: Duplicate 'System.Resources.NeutralResourcesLanguageAttribute' attri
bute
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\obj\Debug\net9.0\.NETCoreApp,Version=v9.0.Assem
blyAttributes.cs(4,12): error CS0579: Duplicate 'global::System.Runtime.Versioning.TargetF
rameworkAttribute' attribute
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\obj\Debug\net9.0\DiffMore.Test.AssemblyInfo.cs(
13,12): error CS0579: Duplicate 'System.Reflection.AssemblyCompanyAttribute' attribute
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\obj\Debug\net9.0\DiffMore.Test.AssemblyInfo.cs(
14,12): error CS0579: Duplicate 'System.Reflection.AssemblyConfigurationAttribute' attribu
te
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\obj\Debug\net9.0\DiffMore.Test.AssemblyInfo.cs(
15,12): error CS0579: Duplicate 'System.Reflection.AssemblyCopyrightAttribute' attribute
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\obj\Debug\net9.0\DiffMore.Test.AssemblyInfo.cs(
16,12): error CS0579: Duplicate 'System.Reflection.AssemblyDescriptionAttribute' attribute
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\obj\Debug\net9.0\DiffMore.Test.AssemblyInfo.cs(
18,12): error CS0579: Duplicate 'System.Reflection.AssemblyFileVersionAttribute' attribute
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\obj\Debug\net9.0\DiffMore.Test.AssemblyInfo.cs(
19,12): error CS0579: Duplicate 'System.Reflection.AssemblyInformationalVersionAttribute'
attribute
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\obj\Debug\net9.0\DiffMore.Test.AssemblyInfo.cs(
20,12): error CS0579: Duplicate 'System.Reflection.AssemblyProductAttribute' attribute
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\obj\Debug\net9.0\DiffMore.Test.AssemblyInfo.cs(
21,12): error CS0579: Duplicate 'System.Reflection.AssemblyTitleAttribute' attribute
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\obj\Debug\net9.0\DiffMore.Test.AssemblyInfo.cs(
22,12): error CS0579: Duplicate 'System.Reflection.AssemblyVersionAttribute' attribute
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\obj\Debug\net9.0\DiffMore.Test.AssemblyInfo.cs(
23,12): error CS0579: Duplicate 'System.Resources.NeutralResourcesLanguageAttribute' attri
bute
    C:\dev\ktsu-dev\DiffMore\obj\Debug\net9.0\.NETCoreApp,Version=v9.0.AssemblyAttributes.
cs(4,12): error CS0579: Duplicate 'global::System.Runtime.Versioning.TargetFrameworkAttrib
ute' attribute
    C:\dev\ktsu-dev\DiffMore\obj\Debug\net9.0\debug_test.AssemblyInfo.cs(13,12): error CS0
579: Duplicate 'System.Reflection.AssemblyCompanyAttribute' attribute
    C:\dev\ktsu-dev\DiffMore\obj\Debug\net9.0\debug_test.AssemblyInfo.cs(14,12): error CS0
579: Duplicate 'System.Reflection.AssemblyConfigurationAttribute' attribute
    C:\dev\ktsu-dev\DiffMore\obj\Debug\net9.0\debug_test.AssemblyInfo.cs(15,12): error CS0
579: Duplicate 'System.Reflection.AssemblyFileVersionAttribute' attribute
    C:\dev\ktsu-dev\DiffMore\obj\Debug\net9.0\debug_test.AssemblyInfo.cs(16,12): error CS0
579: Duplicate 'System.Reflection.AssemblyInformationalVersionAttribute' attribute
    C:\dev\ktsu-dev\DiffMore\obj\Debug\net9.0\debug_test.AssemblyInfo.cs(17,12): error CS0
579: Duplicate 'System.Reflection.AssemblyProductAttribute' attribute
    C:\dev\ktsu-dev\DiffMore\obj\Debug\net9.0\debug_test.AssemblyInfo.cs(18,12): error CS0
579: Duplicate 'System.Reflection.AssemblyTitleAttribute' attribute
    C:\dev\ktsu-dev\DiffMore\obj\Debug\net9.0\debug_test.AssemblyInfo.cs(19,12): error CS0
579: Duplicate 'System.Reflection.AssemblyVersionAttribute' attribute
    C:\dev\ktsu-dev\DiffMore\DiffMore.CLI\obj\Debug\net9.0\DiffMore.CLI.GlobalUsings.g.cs(
2,22): error CS0400: The type or namespace name 'CommandLine' could not be found in the gl
obal namespace (are you missing an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.CLI\obj\Debug\net9.0\DiffMore.CLI.GlobalUsings.g.cs(
3,22): error CS0400: The type or namespace name 'Spectre' could not be found in the global
 namespace (are you missing an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.CLI\obj\Debug\net9.0\DiffMore.CLI.GlobalUsings.g.cs(
4,22): error CS0400: The type or namespace name 'Spectre' could not be found in the global
 namespace (are you missing an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\obj\Debug\net8.0\DiffMore.Test.GlobalUsings.g.c
s(2,32): error CS0234: The type or namespace name 'VisualStudio' does not exist in the nam
espace 'Microsoft' (are you missing an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\obj\Debug\net9.0\DiffMore.Test.GlobalUsings.g.c
s(2,32): error CS0234: The type or namespace name 'VisualStudio' does not exist in the nam
espace 'Microsoft' (are you missing an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\obj\Debug\net9.0\DiffMore.Test.GlobalUsings.g.c
s(3,22): error CS0400: The type or namespace name 'Moq' could not be found in the global n
amespace (are you missing an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\obj\Debug\net9.0\DiffMore.Test.GlobalUsings.g.c
s(7,45): error CS0234: The type or namespace name 'TestingHelpers' does not exist in the n
amespace 'System.IO.Abstractions' (are you missing an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\packages\microsoft.net.test.sdk\17.13.0\build\netcoreapp3.1\M
icrosoft.NET.Test.Sdk.Program.cs(4,41): error CS0111: Type 'AutoGeneratedProgram' already
defines a member called 'Main' with the same parameter types
    C:\dev\ktsu-dev\DiffMore\DiffMore.CLI\Program.cs(139,37): warning CS0436: The type 'Fi
leGroup' in 'C:\dev\ktsu-dev\DiffMore\DiffMore.Core\FileDiffer.cs' conflicts with the impo
rted type 'FileGroup' in 'ktsu.DiffMore.Core, Version=1.0.0.0, Culture=neutral, PublicKeyT
oken=null'. Using the type defined in 'C:\dev\ktsu-dev\DiffMore\DiffMore.Core\FileDiffer.c
s'.
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\EdgeCaseTests.cs(11,17): error CS0234: The type
 or namespace name 'VisualStudio' does not exist in the namespace 'Microsoft' (are you mis
sing an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferDiffTests.cs(9,17): error CS0234: The
 type or namespace name 'VisualStudio' does not exist in the namespace 'Microsoft' (are yo
u missing an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferGroupingTests.cs(11,17): error CS0234
: The type or namespace name 'VisualStudio' does not exist in the namespace 'Microsoft' (a
re you missing an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferPathTests.cs(10,17): error CS0234: Th
e type or namespace name 'VisualStudio' does not exist in the namespace 'Microsoft' (are y
ou missing an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileFinderTests.cs(10,17): error CS0234: The ty
pe or namespace name 'VisualStudio' does not exist in the namespace 'Microsoft' (are you m
issing an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileHasherTests.cs(8,17): error CS0234: The typ
e or namespace name 'VisualStudio' does not exist in the namespace 'Microsoft' (are you mi
ssing an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\MockFileSystemTestBase.cs(8,30): error CS0234: 
The type or namespace name 'TestingHelpers' does not exist in the namespace 'System.IO.Abs
tractions' (are you missing an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\MockFileSystemTestBase.cs(9,17): error CS0234: 
The type or namespace name 'VisualStudio' does not exist in the namespace 'Microsoft' (are
 you missing an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\MockFileSystemTests.cs(12,30): error CS0234: Th
e type or namespace name 'TestingHelpers' does not exist in the namespace 'System.IO.Abstr
actions' (are you missing an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\MockFileSystemTests.cs(15,17): error CS0234: Th
e type or namespace name 'VisualStudio' does not exist in the namespace 'Microsoft' (are y
ou missing an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\MockFileSystemTests.cs(16,7): error CS0246: The
 type or namespace name 'Moq' could not be found (are you missing a using directive or an
assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Core\FileDiffer.cs(107,9): warning CS0436: The type 
'DiffColor' in 'C:\dev\ktsu-dev\DiffMore\DiffMore.Core\FileDiffer.cs' conflicts with the i
mported type 'DiffColor' in 'ktsu.DiffMore.Core, Version=1.0.0.0, Culture=neutral, PublicK
eyToken=null'. Using the type defined in 'C:\dev\ktsu-dev\DiffMore\DiffMore.Core\FileDiffe
r.cs'.
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\PerformanceTests.cs(10,17): error CS0234: The t
ype or namespace name 'VisualStudio' does not exist in the namespace 'Microsoft' (are you
missing an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Core\FileDiffer.cs(156,36): warning CS0436: The type
 'FileGroup' in 'C:\dev\ktsu-dev\DiffMore\DiffMore.Core\FileDiffer.cs' conflicts with the
imported type 'FileGroup' in 'ktsu.DiffMore.Core, Version=1.0.0.0, Culture=neutral, Public
KeyToken=null'. Using the type defined in 'C:\dev\ktsu-dev\DiffMore\DiffMore.Core\FileDiff
er.cs'.
    C:\dev\ktsu-dev\DiffMore\DiffMore.Core\FileDiffer.cs(184,36): warning CS0436: The type
 'LineDifference' in 'C:\dev\ktsu-dev\DiffMore\DiffMore.Core\FileDiffer.cs' conflicts with
 the imported type 'LineDifference' in 'ktsu.DiffMore.Core, Version=1.0.0.0, Culture=neutr
al, PublicKeyToken=null'. Using the type defined in 'C:\dev\ktsu-dev\DiffMore\DiffMore.Cor
e\FileDiffer.cs'.
    C:\dev\ktsu-dev\DiffMore\DiffMore.Core\FileDiffer.cs(290,16): warning CS0436: The type
 'DirectoryComparisonResult' in 'C:\dev\ktsu-dev\DiffMore\DiffMore.Core\FileDiffer.cs' con
flicts with the imported type 'DirectoryComparisonResult' in 'ktsu.DiffMore.Core, Version=
1.0.0.0, Culture=neutral, PublicKeyToken=null'. Using the type defined in 'C:\dev\ktsu-dev
\DiffMore\DiffMore.Core\FileDiffer.cs'.
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\ProgramTests.cs(10,17): error CS0234: The type 
or namespace name 'VisualStudio' does not exist in the namespace 'Microsoft' (are you miss
ing an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Core\FileDiffer.cs(242,82): warning CS0436: The type
 'LineDifference' in 'C:\dev\ktsu-dev\DiffMore\DiffMore.Core\FileDiffer.cs' conflicts with
directive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferPathTests.cs(80,3): error CS0246: The
 type or namespace name 'TestMethod' could not be found (are you missing a using directive
 or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferGroupingTests.cs(115,3): error CS0246
: The type or namespace name 'TestMethodAttribute' could not be found (are you missing a u
sing directive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferGroupingTests.cs(115,3): error CS0246
: The type or namespace name 'TestMethod' could not be found (are you missing a using dire
ctive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\PerformanceTests.cs(56,3): error CS0246: The ty
pe or namespace name 'TestCleanupAttribute' could not be found (are you missing a using di
rective or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\PerformanceTests.cs(56,3): error CS0246: The ty
pe or namespace name 'TestCleanup' could not be found (are you missing a using directive o
r an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\MockFileSystemTests.cs(70,3): error CS0246: The
 type or namespace name 'TestMethodAttribute' could not be found (are you missing a using
directive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\MockFileSystemTests.cs(70,3): error CS0246: The
 type or namespace name 'TestMethod' could not be found (are you missing a using directive
 or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\RecursiveDiffTests.cs(96,3): error CS0246: The 
type or namespace name 'TestMethodAttribute' could not be found (are you missing a using d
irective or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\RecursiveDiffTests.cs(96,3): error CS0246: The 
type or namespace name 'TestMethod' could not be found (are you missing a using directive
or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileFinderTests.cs(88,3): error CS0246: The typ
e or namespace name 'TestMethodAttribute' could not be found (are you missing a using dire
ctive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileFinderTests.cs(88,3): error CS0246: The typ
e or namespace name 'TestMethod' could not be found (are you missing a using directive or
an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\EdgeCaseTests.cs(131,3): error CS0246: The type
 or namespace name 'TestMethodAttribute' could not be found (are you missing a using direc
tive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\EdgeCaseTests.cs(131,3): error CS0246: The type
 or namespace name 'TestMethod' could not be found (are you missing a using directive or a
n assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferPathTests.cs(106,3): error CS0246: Th
e type or namespace name 'TestMethodAttribute' could not be found (are you missing a using
 directive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferPathTests.cs(106,3): error CS0246: Th
e type or namespace name 'TestMethod' could not be found (are you missing a using directiv
e or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferDiffTests.cs(102,3): error CS0246: Th
e type or namespace name 'TestMethodAttribute' could not be found (are you missing a using
 directive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferDiffTests.cs(102,3): error CS0246: Th
e type or namespace name 'TestMethod' could not be found (are you missing a using directiv
e or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\ProgramTests.cs(60,3): error CS0246: The type o
r namespace name 'TestCleanupAttribute' could not be found (are you missing a using direct
ive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\ProgramTests.cs(60,3): error CS0246: The type o
r namespace name 'TestCleanup' could not be found (are you missing a using directive or an
 assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\MockFileSystemTests.cs(93,3): error CS0246: The
 type or namespace name 'TestMethodAttribute' could not be found (are you missing a using
directive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\MockFileSystemTests.cs(93,3): error CS0246: The
 type or namespace name 'TestMethod' could not be found (are you missing a using directive
 or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileHasherTests.cs(65,3): error CS0246: The typ
e or namespace name 'TestMethodAttribute' could not be found (are you missing a using dire
ctive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileHasherTests.cs(65,3): error CS0246: The typ
e or namespace name 'TestMethod' could not be found (are you missing a using directive or
an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileHasherTests.cs(66,3): error CS0246: The typ
e or namespace name 'ExpectedExceptionAttribute' could not be found (are you missing a usi
ng directive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileHasherTests.cs(66,3): error CS0246: The typ
e or namespace name 'ExpectedException' could not be found (are you missing a using direct
ive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\EdgeCaseTests.cs(157,3): error CS0246: The type
 or namespace name 'TestMethodAttribute' could not be found (are you missing a using direc
tive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\EdgeCaseTests.cs(157,3): error CS0246: The type
 or namespace name 'TestMethod' could not be found (are you missing a using directive or a
n assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\RecursiveDiffTests.cs(125,3): error CS0246: The
 type or namespace name 'TestMethodAttribute' could not be found (are you missing a using
directive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\RecursiveDiffTests.cs(125,3): error CS0246: The
 type or namespace name 'TestMethod' could not be found (are you missing a using directive
 or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferPathTests.cs(124,3): error CS0246: Th
e type or namespace name 'TestMethodAttribute' could not be found (are you missing a using
 directive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferPathTests.cs(124,3): error CS0246: Th
e type or namespace name 'TestMethod' could not be found (are you missing a using directiv
e or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\MockFileSystemTests.cs(113,3): error CS0246: Th
e type or namespace name 'TestMethodAttribute' could not be found (are you missing a using
 directive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\MockFileSystemTests.cs(113,3): error CS0246: Th
e type or namespace name 'TestMethod' could not be found (are you missing a using directiv
e or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\EdgeCaseTests.cs(177,3): error CS0246: The type
 or namespace name 'TestMethodAttribute' could not be found (are you missing a using direc
tive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\EdgeCaseTests.cs(177,3): error CS0246: The type
 or namespace name 'TestMethod' could not be found (are you missing a using directive or a
n assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferDiffTests.cs(124,3): error CS0246: Th
e type or namespace name 'TestMethodAttribute' could not be found (are you missing a using
 directive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferDiffTests.cs(124,3): error CS0246: Th
e type or namespace name 'TestMethod' could not be found (are you missing a using directiv
e or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\ProgramTests.cs(85,3): error CS0246: The type o
r namespace name 'TestMethodAttribute' could not be found (are you missing a using directi
ve or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\ProgramTests.cs(85,3): error CS0246: The type o
r namespace name 'TestMethod' could not be found (are you missing a using directive or an
assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\RecursiveDiffTests.cs(150,3): error CS0246: The
 type or namespace name 'TestMethodAttribute' could not be found (are you missing a using
directive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\RecursiveDiffTests.cs(150,3): error CS0246: The
 type or namespace name 'TestMethod' could not be found (are you missing a using directive
 or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\EdgeCaseTests.cs(194,3): error CS0246: The type
 or namespace name 'TestMethodAttribute' could not be found (are you missing a using direc
tive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\EdgeCaseTests.cs(194,3): error CS0246: The type
 or namespace name 'TestMethod' could not be found (are you missing a using directive or a
n assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferPathTests.cs(154,3): error CS0246: Th
e type or namespace name 'TestMethodAttribute' could not be found (are you missing a using
 directive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferPathTests.cs(154,3): error CS0246: Th
e type or namespace name 'TestMethod' could not be found (are you missing a using directiv
e or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\MockFileSystemTests.cs(129,3): error CS0246: Th
e type or namespace name 'TestMethodAttribute' could not be found (are you missing a using
 directive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\MockFileSystemTests.cs(129,3): error CS0246: Th
e type or namespace name 'TestMethod' could not be found (are you missing a using directiv
e or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferGroupingTests.cs(137,3): error CS0246
: The type or namespace name 'TestMethodAttribute' could not be found (are you missing a u
sing directive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferGroupingTests.cs(137,3): error CS0246
: The type or namespace name 'TestMethod' could not be found (are you missing a using dire
ctive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferGroupingTests.cs(138,3): error CS0246
: The type or namespace name 'ExpectedExceptionAttribute' could not be found (are you miss
ing a using directive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferGroupingTests.cs(138,3): error CS0246
: The type or namespace name 'ExpectedException' could not be found (are you missing a usi
ng directive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferGroupingTests.cs(145,3): error CS0246
: The type or namespace name 'TestMethodAttribute' could not be found (are you missing a u
sing directive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferGroupingTests.cs(145,3): error CS0246
: The type or namespace name 'TestMethod' could not be found (are you missing a using dire
ctive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\RecursiveDiffTests.cs(233,3): error CS0246: The
 type or namespace name 'TestMethodAttribute' could not be found (are you missing a using
directive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\RecursiveDiffTests.cs(233,3): error CS0246: The
 type or namespace name 'TestMethod' could not be found (are you missing a using directive
 or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\ProgramTests.cs(100,3): error CS0246: The type 
or namespace name 'TestMethodAttribute' could not be found (are you missing a using direct
ive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\ProgramTests.cs(100,3): error CS0246: The type 
or namespace name 'TestMethod' could not be found (are you missing a using directive or an
 assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferDiffTests.cs(144,3): error CS0246: Th
e type or namespace name 'TestMethodAttribute' could not be found (are you missing a using
 directive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferDiffTests.cs(144,3): error CS0246: Th
e type or namespace name 'TestMethod' could not be found (are you missing a using directiv
e or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferGroupingTests.cs(155,3): error CS0246
: The type or namespace name 'TestMethodAttribute' could not be found (are you missing a u
sing directive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferGroupingTests.cs(155,3): error CS0246
: The type or namespace name 'TestMethod' could not be found (are you missing a using dire
ctive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\PerformanceTests.cs(79,3): error CS0246: The ty
pe or namespace name 'TestMethodAttribute' could not be found (are you missing a using dir
ective or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\PerformanceTests.cs(79,3): error CS0246: The ty
pe or namespace name 'TestMethod' could not be found (are you missing a using directive or
 an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\PerformanceTests.cs(80,3): error CS0246: The ty
pe or namespace name 'TestCategoryAttribute' could not be found (are you missing a using d
irective or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\PerformanceTests.cs(80,3): error CS0246: The ty
pe or namespace name 'TestCategory' could not be found (are you missing a using directive
or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\ProgramTests.cs(115,3): error CS0246: The type 
or namespace name 'TestMethodAttribute' could not be found (are you missing a using direct
ive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\ProgramTests.cs(115,3): error CS0246: The type 
or namespace name 'TestMethod' could not be found (are you missing a using directive or an
 assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\ProgramTests.cs(131,3): error CS0246: The type 
or namespace name 'TestMethodAttribute' could not be found (are you missing a using direct
ive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\ProgramTests.cs(131,3): error CS0246: The type 
or namespace name 'TestMethod' could not be found (are you missing a using directive or an
 assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferDiffTests.cs(154,3): error CS0246: Th
e type or namespace name 'TestMethodAttribute' could not be found (are you missing a using
 directive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferDiffTests.cs(154,3): error CS0246: Th
e type or namespace name 'TestMethod' could not be found (are you missing a using directiv
e or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\ProgramTests.cs(145,3): error CS0246: The type 
or namespace name 'TestMethodAttribute' could not be found (are you missing a using direct
ive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\ProgramTests.cs(145,3): error CS0246: The type 
or namespace name 'TestMethod' could not be found (are you missing a using directive or an
 assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferDiffTests.cs(167,3): error CS0246: Th
e type or namespace name 'TestMethodAttribute' could not be found (are you missing a using
 directive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferDiffTests.cs(167,3): error CS0246: Th
e type or namespace name 'TestMethod' could not be found (are you missing a using directiv
e or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\ProgramTests.cs(156,3): error CS0246: The type 
or namespace name 'TestMethodAttribute' could not be found (are you missing a using direct
ive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\ProgramTests.cs(156,3): error CS0246: The type 
or namespace name 'TestMethod' could not be found (are you missing a using directive or an
 assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferDiffTests.cs(182,3): error CS0246: Th
e type or namespace name 'TestMethodAttribute' could not be found (are you missing a using
 directive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferDiffTests.cs(182,3): error CS0246: Th
e type or namespace name 'TestMethod' could not be found (are you missing a using directiv
e or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\ProgramTests.cs(174,3): error CS0246: The type 
or namespace name 'TestMethodAttribute' could not be found (are you missing a using direct
ive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\ProgramTests.cs(174,3): error CS0246: The type 
or namespace name 'TestMethod' could not be found (are you missing a using directive or an
 assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\PerformanceTests.cs(97,3): error CS0246: The ty
pe or namespace name 'TestMethodAttribute' could not be found (are you missing a using dir
ective or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\PerformanceTests.cs(97,3): error CS0246: The ty
pe or namespace name 'TestMethod' could not be found (are you missing a using directive or
 an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\PerformanceTests.cs(98,3): error CS0246: The ty
pe or namespace name 'TestCategoryAttribute' could not be found (are you missing a using d
irective or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\PerformanceTests.cs(98,3): error CS0246: The ty
pe or namespace name 'TestCategory' could not be found (are you missing a using directive
or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferDiffTests.cs(205,3): error CS0246: Th
e type or namespace name 'TestMethodAttribute' could not be found (are you missing a using
 directive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferDiffTests.cs(205,3): error CS0246: Th
e type or namespace name 'TestMethod' could not be found (are you missing a using directiv
e or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferDiffTests.cs(206,3): error CS0246: Th
e type or namespace name 'ExpectedExceptionAttribute' could not be found (are you missing
a using directive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferDiffTests.cs(206,3): error CS0246: Th
e type or namespace name 'ExpectedException' could not be found (are you missing a using d
irective or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferDiffTests.cs(213,3): error CS0246: Th
e type or namespace name 'TestMethodAttribute' could not be found (are you missing a using
 directive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferDiffTests.cs(213,3): error CS0246: Th
e type or namespace name 'TestMethod' could not be found (are you missing a using directiv
e or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferDiffTests.cs(225,3): error CS0246: Th
e type or namespace name 'TestMethodAttribute' could not be found (are you missing a using
 directive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferDiffTests.cs(225,3): error CS0246: Th
e type or namespace name 'TestMethod' could not be found (are you missing a using directiv
e or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\PerformanceTests.cs(115,3): error CS0246: The t
ype or namespace name 'TestMethodAttribute' could not be found (are you missing a using di
rective or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\PerformanceTests.cs(115,3): error CS0246: The t
ype or namespace name 'TestMethod' could not be found (are you missing a using directive o
r an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\PerformanceTests.cs(116,3): error CS0246: The t
ype or namespace name 'TestCategoryAttribute' could not be found (are you missing a using
directive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\PerformanceTests.cs(116,3): error CS0246: The t
ype or namespace name 'TestCategory' could not be found (are you missing a using directive
 or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\PerformanceTests.cs(133,3): error CS0246: The t
ype or namespace name 'TestMethodAttribute' could not be found (are you missing a using di
rective or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\PerformanceTests.cs(133,3): error CS0246: The t
ype or namespace name 'TestMethod' could not be found (are you missing a using directive o
r an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\PerformanceTests.cs(134,3): error CS0246: The t
ype or namespace name 'TestCategoryAttribute' could not be found (are you missing a using
directive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\PerformanceTests.cs(134,3): error CS0246: The t
ype or namespace name 'TestCategory' could not be found (are you missing a using directive
 or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\PerformanceTests.cs(151,3): error CS0246: The t
ype or namespace name 'TestMethodAttribute' could not be found (are you missing a using di
rective or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\PerformanceTests.cs(151,3): error CS0246: The t
ype or namespace name 'TestMethod' could not be found (are you missing a using directive o
r an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\PerformanceTests.cs(152,3): error CS0246: The t
ype or namespace name 'TestCategoryAttribute' could not be found (are you missing a using
directive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\PerformanceTests.cs(152,3): error CS0246: The t
ype or namespace name 'TestCategory' could not be found (are you missing a using directive
 or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\PerformanceTests.cs(182,3): error CS0246: The t
ype or namespace name 'TestMethodAttribute' could not be found (are you missing a using di
rective or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\PerformanceTests.cs(182,3): error CS0246: The t
ype or namespace name 'TestMethod' could not be found (are you missing a using directive o
r an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\PerformanceTests.cs(183,3): error CS0246: The t
ype or namespace name 'TestCategoryAttribute' could not be found (are you missing a using
directive or an assembly reference?)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\PerformanceTests.cs(183,3): error CS0246: The t
ype or namespace name 'TestCategory' could not be found (are you missing a using directive
 or an assembly reference?)

Build failed with 261 error(s) and 12 warning(s) in 5.4s
  00:54:17   DiffMore  5.706s   1 - ERROR 
  10:54:17 main  ?3 ~1

```

---

There are serious build issues. It looks like there are package reference conflicts and missing dependencies. Let me clean the solution and restore packages properly:

---

```bash
dotnet clean DiffMore.sln
```

```
 PS C:\dev\ktsu-dev\DiffMore >dotnet clean DiffMore.sln

  DiffMore.CLI                                                           CoreClean (0.0s)
  DiffMore.CLI                                                ResolvePackageAssets (0.0s) 

Build succeeded in 1.0s
  00:54:24   DiffMore  1.416s  
  10:54:24 main  ?3 ~1 
 PS C:\dev\ktsu-dev\DiffMore >
```

---

```bash
dotnet restore DiffMore.sln
```

```
 PS C:\dev\ktsu-dev\DiffMore >dotnet restore DiffMore.sln

  C:\dev\ktsu-dev\DiffMore\DiffMore.sln                                    Restore (0.0s) 
Restore complete (0.9s)

Build succeeded in 1.0s
  00:54:29   DiffMore  1.37s  
  10:54:29 main  ?3 ~1 
 PS C:\dev\ktsu-dev\DiffMore >
```

---

```bash
dotnet build DiffMore.sln
```

```
 PS C:\dev\ktsu-dev\DiffMore >dotnet build DiffMore.sln

                                                                                   (0.1s) 
Restore complete (0.8s)
  DiffMore.Core succeeded (0.7s) → DiffMore.Core\bin\Debug\net9.0\ktsu.DiffMore.Core.dll

  DiffMore.CLI succeeded (0.5s) → DiffMore.CLI\bin\Debug\net9.0\ktsu.DiffMore.CLI.dll

  DiffMore.Test succeeded (0.9s) → DiffMore.Test\bin\Debug\net9.0\ktsu.DiffMore.Test.dll


Build succeeded in 3.4s
  00:54:36   DiffMore  3.688s  
  10:54:36 main  ?3 ~1 

```

---

Great! The build is now successful. Let me run the tests to see the current status:

---

```bash
dotnet test DiffMore.Test/DiffMore.Test.csproj --verbosity minimal
```

```
 PS C:\dev\ktsu-dev\DiffMore >dotnet test DiffMore.Test/DiffMore.Test.csproj --verbosity m
inimal

                                                                                   (0.1s) 
Restore complete (0.6s)
  DiffMore.Core succeeded (0.1s) → DiffMore.Core\bin\Debug\net9.0\ktsu.DiffMore.Core.dll

  DiffMore.CLI succeeded (0.2s) → DiffMore.CLI\bin\Debug\net9.0\ktsu.DiffMore.CLI.dll

  DiffMore.Test succeeded (0.1s) → DiffMore.Test\bin\Debug\net9.0\ktsu.DiffMore.Test.dll

  DiffMore.Test test failed with 10 error(s) (1.7s)

    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\bin\Debug\net9.0\ktsu.DiffMore.Test.dll : error
 run failed: Tests failed: 'C:\dev\ktsu-dev\DiffMore\DiffMore.Test\bin\Debug\net9.0\TestRe
sults\ktsu.DiffMore.Test_net9.0_x64.log' [net9.0|x64]

Test summary: total: 61, failed: 9, succeeded: 52, skipped: 0, duration: 1.5s
Build failed with 10 error(s) in 3.5s
  00:54:45   DiffMore  3.996s   1 - ERROR 
  10:54:45 main  ?3 ~1 

```

---

Great! We're down to 9 test failures from the previous 10. Let me run the tests with more detailed output to see which specific test is failing:

---

```bash
dotnet test DiffMore.Test/DiffMore.Test.csproj --logger "console;verbosity=detailed"
```

```
 PS C:\dev\ktsu-dev\DiffMore >dotnet test DiffMore.Test/DiffMore.Test.csproj --logger "con
sole;verbosity=detailed"

                                                                                   (0.1s) 
Restore complete (0.6s)
  DiffMore.Core succeeded (0.1s) → DiffMore.Core\bin\Debug\net9.0\ktsu.DiffMore.Core.dll

  DiffMore.CLI succeeded (0.2s) → DiffMore.CLI\bin\Debug\net9.0\ktsu.DiffMore.CLI.dll

  DiffMore.Test succeeded (0.1s) → DiffMore.Test\bin\Debug\net9.0\ktsu.DiffMore.Test.dll

  DiffMore.Test test failed with 10 error(s) (2.6s)
    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\EdgeCaseTests.cs(95): error test failed:

      FileDiffer_VeryLargeFile_HandlesCorrectly (55ms): Assert.AreEqual failed. Expected:<
      1>. Actual:<2>. Should find the one modified line
      Stack Trace:
         at ktsu.DiffMore.Test.EdgeCaseTests.FileDiffer_VeryLargeFile_HandlesCorrectly() i
      n C:\dev\ktsu-dev\DiffMore\DiffMore.Test\EdgeCaseTests.cs:line 95
         at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signa
      ture sig, Boolean isConstructor)
         at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags 
      invokeAttr)


    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\EdgeCaseTests.cs(148): error test failed:

      FileDiffer_AllLinesChangedFile_ShowsCompleteChanges (9ms): Assert.AreEqual failed. E
      xpected:<3>. Actual:<0>. Should find all 3 lines modified
      Stack Trace:
         at ktsu.DiffMore.Test.EdgeCaseTests.FileDiffer_AllLinesChangedFile_ShowsCompleteC
      hanges() in C:\dev\ktsu-dev\DiffMore\DiffMore.Test\EdgeCaseTests.cs:line 148

         at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signa
      ture sig, Boolean isConstructor)
         at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags 
      invokeAttr)


    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferDiffTests.cs(221): error test failed:

      GenerateChangeSummaryDiff_WithDifferences_ContainsSummaryInfo (9ms): Assert.IsTrue f
      ailed. Summary should mention modified lines
      Stack Trace:
         at ktsu.DiffMore.Test.FileDifferDiffTests.GenerateChangeSummaryDiff_WithDifferenc
      es_ContainsSummaryInfo() in C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferDiffTes
      ts.cs:line 221
         at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signa
      ture sig, Boolean isConstructor)
         at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags 
      invokeAttr)


    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferPathTests.cs(59): error test failed: 
      FileDiffer_InvalidPaths_ThrowsDirectoryNotFoundException (15ms): Assert.ThrowsExcept
      ion failed. Expected exception type:<System.IO.DirectoryNotFoundException> but no ex
      ception was thrown.
      Stack Trace:
         at ktsu.DiffMore.Test.FileDifferPathTests.FileDiffer_InvalidPaths_ThrowsDirectory
      NotFoundException() in C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferPathTests.cs
      :line 59
         at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signa
      ture sig, Boolean isConstructor)
         at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags 
      invokeAttr)


    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferPathTests.cs(168): error test failed:

      FileDiffer_MultipleSearchPatterns_FindsAllMatchingFiles (13ms): Assert.AreEqual fail
      ed. Expected:<2>. Actual:<0>. Should have 2 same files (*.txt and *.md)
      Stack Trace:
         at ktsu.DiffMore.Test.FileDifferPathTests.FileDiffer_MultipleSearchPatterns_Finds
      AllMatchingFiles() in C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileDifferPathTests.cs:
      line 168
         at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signa
      ture sig, Boolean isConstructor)
         at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags 
      invokeAttr)


    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileFinderTests.cs(51): error test failed:

      FindFiles_ExistingFileName_ReturnsAllMatches (43ms): Assert.IsTrue failed. Root file
       should be found
      Stack Trace:
         at ktsu.DiffMore.Test.FileFinderTests.FindFiles_ExistingFileName_ReturnsAllMatche
      s() in C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileFinderTests.cs:line 51
         at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signa
      ture sig, Boolean isConstructor)
         at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags 
      invokeAttr)


    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileFinderTests.cs(75): error test failed:

      FindFiles_UniqueFileName_ReturnsSingleFile (1ms): Assert.AreEqual failed. Expected:<
      /mock-test-dir\Subdir1\different.txt>. Actual:<C:\mock-test-dir\Subdir1\different.tx
      t>. Should find the correct file
      Stack Trace:
         at ktsu.DiffMore.Test.FileFinderTests.FindFiles_UniqueFileName_ReturnsSingleFile(
      ) in C:\dev\ktsu-dev\DiffMore\DiffMore.Test\FileFinderTests.cs:line 75
         at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signa
      ture sig, Boolean isConstructor)
         at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags 
      invokeAttr)


    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\RecursiveDiffTests.cs(81): error test failed:

      FindDifferences_RecursiveTrue_IncludesSubdirectoryFiles (17ms): Assert.AreEqual fail
      ed. Expected:<9>. Actual:<8>. Should find all 9 files across all directories

      Stack Trace:
         at ktsu.DiffMore.Test.RecursiveDiffTests.FindDifferences_RecursiveTrue_IncludesSu
      bdirectoryFiles() in C:\dev\ktsu-dev\DiffMore\DiffMore.Test\RecursiveDiffTests.cs:li
      ne 81
         at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signa
      ture sig, Boolean isConstructor)
         at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags 
      invokeAttr)


    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\RecursiveDiffTests.cs(108): error test failed: 
      FindDifferences_RecursiveFalse_ExcludesSubdirectoryFiles (12ms): Assert.AreEqual fai
      led. Expected:<4>. Actual:<3>. Should find only 4 files in the root directories

      Stack Trace:
         at ktsu.DiffMore.Test.RecursiveDiffTests.FindDifferences_RecursiveFalse_ExcludesS
      ubdirectoryFiles() in C:\dev\ktsu-dev\DiffMore\DiffMore.Test\RecursiveDiffTests.cs:l
      ine 108
         at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signa

    C:\dev\ktsu-dev\DiffMore\DiffMore.Test\bin\Debug\net9.0\ktsu.DiffMore.Test.dll : error
 run failed: Tests failed: 'C:\dev\ktsu-dev\DiffMore\DiffMore.Test\bin\Debug\net9.0\TestRe
sults\ktsu.DiffMore.Test_net9.0_x64.log' [net9.0|x64]

Test summary: total: 61, failed: 9, succeeded: 52, skipped: 0, duration: 2.3s
Build failed with 10 error(s) in 4.2s
  00:55:22   DiffMore  4.545s   1 - ERROR 
  10:55:22 main  ?3 ~2 

```

---

Perfect! Now I can see the specific test failures. The main issue is with the `FileDiffer_AllLinesChangedFile_ShowsCompleteChanges` test which is expecting 3 modifications but getting 0. Let me analyze the issue more closely by examining the `MergeModifications` method.

Looking at the test failure and the current `MergeModifications` logic, I can see the problem. The logic for merging consecutive delete/insert operations into modifications has an issue with the line number comparison. Let me fix this:

---

Read file: DiffMore.Core/FileDiffer.cs

---

Let me check the exact logic of the `MergeModifications` method:

---

Read file: DiffMore.Core/FileDiffer.cs

---

I found the issue! In the `MergeModifications` method, the logic for determining if a delete and insert should be merged is incorrect. The condition `next.LineNumber2 == current.LineNumber1` is not the right way to check if they should be merged. 

When we have consecutive changes like:
- Line 1: Delete "Line 1", Insert "Different Line 1"
- Line 2: Delete "Line 2", Insert "Different Line 2"
- Line 3: Delete "Line 3", Insert "Different Line 3"

The correct logic should merge consecutive delete/insert pairs that occur at corresponding line positions. Let me fix this:

---



---

Now let me test this fix by running the specific failing test:

---

```bash
dotnet test DiffMore.Test/DiffMore.Test.csproj --filter "FileDiffer_AllLinesChangedFile_ShowsCompleteChanges" --logger "console;verbosity=detailed"
```

```
eDiffer_AllLinesChangedFile_ShowsCo
Oops, something went wrong.
Please report this bug with ALL the details below, including both the 'Environment' and 'E
xception' sections.
Please report on GitHub: https://github.com/PowerShell/PSReadLine/issues/new?template=Bug_
Report.yaml
Thank you!

### Environment
PSReadLine: 2.3.6+d2e770f93b7a53d8660a6402eb29d1ae1c35e767
PowerShell: 7.5.1
OS: Microsoft Windows 10.0.26100
BufferWidth: 90
BufferHeight: 1

Last 200 Keys:

 b o s i t y Spacebar m i n i m a l Enter
 d o t n e t Spacebar t e s t Spacebar D i f f M o r e . T e s t / D i f f M o r e . T e s
 t . c s p r o j Spacebar - - l o g g e r Spacebar " c o n s o l e ; v e r b o s i t y = d
 e t a i l e d " Enter
 d o t n e t Spacebar t e s t Spacebar D i f f M o r e . T e s t / D i f f M o r e . T e s
 t . c s p r o j Spacebar - - f i l t e r Spacebar " F i l e D i f f e r _ A l l L i n e s
 C h a n g e d F i l e _ S h o w s C o m p l e t

### Exception

System.ArgumentOutOfRangeException: The value must be greater than or equal to zero and le
ss than the console's buffer size in that dimension. (Parameter 'top')
Actual value was 10.
   at System.ConsolePal.SetCursorPosition(Int32 left, Int32 top)
   at Microsoft.PowerShell.PSConsoleReadLine.ReallyRender(RenderData renderData, String de
faultColor)
   at Microsoft.PowerShell.PSConsoleReadLine.ForceRender()
   at Microsoft.PowerShell.PSConsoleReadLine.Render()
   at Microsoft.PowerShell.PSConsoleReadLine.ProcessOneKey(PSKeyInfo key, Dictionary`2 dis
patchTable, Boolean ignoreIfNoAction, Object arg)
   at Microsoft.PowerShell.PSConsoleReadLine.InputLoop()
   at Microsoft.PowerShell.PSConsoleReadLine.ReadLine(Runspace runspace, EngineIntrinsics 
engineIntrinsics, CancellationToken cancellationToken, Nullable`1 lastRunStatus)



  00:56:02   DiffMore   1 - ERROR 
  10:56:02 main  ?3 ~3 
 PS C:\dev\ktsu-dev\DiffMore >mpleteChanges" --logger "console;verbosity=detailed"








```

---

There's still a terminal display issue. Let me try a different approach and run the test again with a simpler command:

---

```bash
dotnet test --filter "FileDiffer_AllLinesChangedFile_ShowsCompleteChanges"
```

---

Let me use our debug test program to test the fix directly:

---

```bash
dotnet run
```

---

Let me try building the solution first to make sure there are no compilation errors with my changes:

---

```bash
dotnet build DiffMore.sln --verbosity minimal
```

---



It seems there are terminal issues. Let me analyze the problem

---

