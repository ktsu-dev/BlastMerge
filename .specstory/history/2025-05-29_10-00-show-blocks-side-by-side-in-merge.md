<!-- Generated by SpecStory -->

# Show blocks side by side in merge (2025-05-29 20:00:03)

_**User**_

when doing an interactive merge I want to show the blocks side by side with some context,

---

_**Assistant**_



---

I'll help you enhance the interactive merge functionality to show conflicts side by side with context. Let me first examine the current conflict structure to understand what data we have available.

---

<details>
            <summary>Searched codebase "MergeConflict class structure" • **18** results</summary>
        
| File | Lines |
|------|-------|
| `DiffMore.Core/FileDiffer.cs` | L1348-1414 |
| `DiffMore.Core/FileDiffer.cs` | L161-232 |
| `DiffMore.ConsoleApp/Program.cs` | L1052-1103 |
| `DiffMore.Core/FileDiffer.cs` | L1287-1348 |
| `DiffMore.ConsoleApp/Program.cs` | L984-1052 |
| `DiffMore.Core/FileDiffer.cs` | L1414-1493 |
| `DiffMore.ConsoleApp/Program.cs` | L928-984 |
| `DiffMore.ConsoleApp/Program.cs` | L810-866 |
| `DiffMore.Core/FileDiffer.cs` | L232-287 |
| `DiffMore.Core/FileDiffer.cs` | L346-392 |
| `DiffMore.Core/FileDiffer.cs` | L1493-1499 |
| `DiffMore.Core/FileDiffer.cs` | L287-346 |
| `DiffMore.ConsoleApp/Program.cs` | L752-810 |
| `DiffMore.ConsoleApp/Program.cs` | L866-928 |
| `DiffMore.ConsoleApp/Program.cs` | L1156-1168 |
| `DiffMore.Core/FileDiffer.cs` | L88-161 |
| `DiffMore.Core/FileDiffer.cs` | L1-88 |
| `DiffMore.ConsoleApp/Program.cs` | L218-275 |

</details>

---

Now I can see the current structure. The `MergeConflict` class has basic information but doesn't include context lines. Let me enhance the interactive merge display to show conflicts side by side with context. I'll need to:

1. Modify the conflict resolution method to gather context lines
2. Create a side-by-side display using Spectre.Console's layout features
3. Show context before and after the conflict

Let me update the `ResolveConflictsInteractively` method:

---

```diff
  			AnsiConsole.MarkupLine($"[yellow]Conflict {conflictIndex}/{mergeResult.Conflicts.Count} at line {conflict.LineNumber}:[/]");
  
- 			// Show the conflict
- 			var panel = new Panel(
- 				$"[red]Version 1:[/]\n{conflict.Content1 ?? "(deleted)"}\n\n" +
- 				$"[green]Version 2:[/]\n{conflict.Content2 ?? "(added)"}")
- 			{
- 				Header = new PanelHeader("Conflict Details"),
- 				Border = BoxBorder.Rounded
- 			};
- 			AnsiConsole.Write(panel);
+ 			// Show the conflict with context in side-by-side view
+ 			ShowConflictWithContext(conflict, mergeResult.MergedLines);
  
  			// Let user choose resolution
```

```diff
  		};
  	}
+ 
+ 	/// <summary>
+ 	/// Shows a conflict with context lines in a side-by-side view
+ 	/// </summary>
+ 	/// <param name="conflict">The conflict to display</param>
+ 	/// <param name="mergedLines">All merged lines for context</param>
+ 	private static void ShowConflictWithContext(MergeConflict conflict, IReadOnlyList<string> mergedLines)
+ 	{
+ 		const int contextLines = 3; // Number of context lines before and after conflict
+ 
+ 		// Find the conflict in the merged lines to get context
+ 		var conflictLineIndex = Math.Max(0, conflict.LineNumber - 1);
+ 		var startContextIndex = Math.Max(0, conflictLineIndex - contextLines);
+ 		var endContextIndex = Math.Min(mergedLines.Count - 1, conflictLineIndex + contextLines);
+ 
+ 		// Build version 1 content (left side)
+ 		var version1Content = new List<string>();
+ 		var version2Content = new List<string>();
+ 
+ 		// Add context before conflict
+ 		for (var i = startContextIndex; i < conflictLineIndex; i++)
+ 		{
+ 			var line = mergedLines[i];
+ 			if (!line.Contains("<<<<<<< Version") && !line.Contains("=======") && !line.Contains(">>>>>>> Version"))
+ 			{
+ 				version1Content.Add($"[dim]{i + 1,4}: {line.EscapeMarkup()}[/]");
+ 				version2Content.Add($"[dim]{i + 1,4}: {line.EscapeMarkup()}[/]");
+ 			}
+ 		}
+ 
+ 		// Add the conflicting content
+ 		version1Content.Add($"[red bold]{conflict.LineNumber,4}: {(conflict.Content1 ?? "(deleted)").EscapeMarkup()}[/]");
+ 		version2Content.Add($"[green bold]{conflict.LineNumber,4}: {(conflict.Content2 ?? "(added)").EscapeMarkup()}[/]");
+ 
+ 		// Add context after conflict
+ 		for (var i = conflictLineIndex + 1; i <= endContextIndex; i++)
+ 		{
+ 			if (i < mergedLines.Count)
+ 			{
+ 				var line = mergedLines[i];
+ 				if (!line.Contains("<<<<<<< Version") && !line.Contains("=======") && !line.Contains(">>>>>>> Version"))
+ 				{
+ 					version1Content.Add($"[dim]{i + 1,4}: {line.EscapeMarkup()}[/]");
+ 					version2Content.Add($"[dim]{i + 1,4}: {line.EscapeMarkup()}[/]");
+ 				}
+ 			}
+ 		}
+ 
+ 		// Create side-by-side layout
+ 		var leftPanel = new Panel(string.Join("\n", version1Content))
+ 		{
+ 			Header = new PanelHeader("[red bold]Version 1[/]"),
+ 			Border = BoxBorder.Rounded,
+ 			BorderStyle = Style.Parse("red")
+ 		};
+ 
+ 		var rightPanel = new Panel(string.Join("\n", version2Content))
+ 		{
+ 			Header = new PanelHeader("[green bold]Version 2[/]"),
+ 			Border = BoxBorder.Rounded,
+ 			BorderStyle = Style.Parse("green")
+ 		};
+ 
+ 		// Create the layout with two columns
+ 		var layout = new Layout()
+ 			.SplitColumns(
+ 				new Layout("left").Update(leftPanel),
+ 				new Layout("right").Update(rightPanel)
+ 			);
+ 
+ 		AnsiConsole.Write(layout);
+ 		AnsiConsole.WriteLine();
+ 	}
  
  	/// <summary>
```

---

The current approach has an issue - it's trying to get context from the merged lines which already contain conflict markers. Let me improve this by creating a better approach that extracts context from the original file content. I need to enhance the merge process to provide better context information.

---

```diff
  	{
  		MergeResult mergeResult;
+ 		string[]? originalLines1 = null;
+ 		string[]? originalLines2 = null;
  
  		if (existingMergedContent != null)
```

```diff
  			var mergedLines = existingMergedContent.Split(Environment.NewLine);
  			var file2Lines = File.ReadAllLines(file2);
+ 			originalLines1 = mergedLines;
+ 			originalLines2 = file2Lines;
  			mergeResult = FileDiffer.MergeLines(mergedLines, file2Lines);
  		}
  		else
  		{
  			// Merge two files
+ 			originalLines1 = File.ReadAllLines(file1);
+ 			originalLines2 = File.ReadAllLines(file2);
  			mergeResult = FileDiffer.MergeFiles(file1, file2);
  		}
```

```diff
  		return !AnsiConsole.Confirm("[cyan]Would you like to resolve conflicts interactively?[/]", true)
  			? null
- 			: ResolveConflictsInteractively(mergeResult);
+ 			: ResolveConflictsInteractively(mergeResult, originalLines1, originalLines2);
  	}
  
```

```diff
  	/// </summary>
  	/// <param name="mergeResult">The merge result with conflicts</param>
+ 	/// <param name="originalLines1">Original lines from first file/content</param>
+ 	/// <param name="originalLines2">Original lines from second file/content</param>
  	/// <returns>The resolved merge result</returns>
- 	private static MergeResult ResolveConflictsInteractively(MergeResult mergeResult)
+ 	private static MergeResult ResolveConflictsInteractively(MergeResult mergeResult, string[] originalLines1, string[] originalLines2)
  	{
  		var rule = new Rule("[bold]Interactive Conflict Resolution[/]")
```

```diff
  
  			// Show the conflict with context in side-by-side view
- 			ShowConflictWithContext(conflict, mergeResult.MergedLines);
+ 			ShowConflictWithContext(conflict, originalLines1, originalLines2);
  
  			// Let user choose resolution
```

```diff
  	/// </summary>
  	/// <param name="conflict">The conflict to display</param>
- 	/// <param name="mergedLines">All merged lines for context</param>
- 	private static void ShowConflictWithContext(MergeConflict conflict, IReadOnlyList<string> mergedLines)
+ 	/// <param name="originalLines1">Original lines from first file/content</param>
+ 	/// <param name="originalLines2">Original lines from second file/content</param>
+ 	private static void ShowConflictWithContext(MergeConflict conflict, string[] originalLines1, string[] originalLines2)
  	{
  		const int contextLines = 3; // Number of context lines before and after conflict
  
- 		// Find the conflict in the merged lines to get context
+ 		// Find the approximate line numbers in original files
+ 		// This is a simplified approach - we use the conflict line number as a reference
  		var conflictLineIndex = Math.Max(0, conflict.LineNumber - 1);
- 		var startContextIndex = Math.Max(0, conflictLineIndex - contextLines);
- 		var endContextIndex = Math.Min(mergedLines.Count - 1, conflictLineIndex + contextLines);
+ 		
+ 		// For simplicity, we'll show context around the same line number in both files
+ 		// In a more sophisticated implementation, we'd track the actual mapping
+ 		var startContext1 = Math.Max(0, conflictLineIndex - contextLines);
+ 		var endContext1 = Math.Min(originalLines1.Length - 1, conflictLineIndex + contextLines);
+ 		var startContext2 = Math.Max(0, conflictLineIndex - contextLines);
+ 		var endContext2 = Math.Min(originalLines2.Length - 1, conflictLineIndex + contextLines);
  
  		// Build version 1 content (left side)
  		var version1Content = new List<string>();
  		var version2Content = new List<string>();
  
- 		// Add context before conflict
- 		for (var i = startContextIndex; i < conflictLineIndex; i++)
+ 		// Add context and highlight the conflict area
+ 		var maxLines = Math.Max(endContext1 - startContext1 + 1, endContext2 - startContext2 + 1);
+ 		
+ 		for (var i = 0; i < maxLines; i++)
  		{
- 			var line = mergedLines[i];
- 			if (!line.Contains("<<<<<<< Version") && !line.Contains("=======") && !line.Contains(">>>>>>> Version"))
+ 			var line1Index = startContext1 + i;
+ 			var line2Index = startContext2 + i;
+ 			
+ 			// Version 1 content
+ 			if (line1Index <= endContext1 && line1Index < originalLines1.Length)
  			{
- 				version1Content.Add($"[dim]{i + 1,4}: {line.EscapeMarkup()}[/]");
- 				version2Content.Add($"[dim]{i + 1,4}: {line.EscapeMarkup()}[/]");
+ 				var line1 = originalLines1[line1Index];
+ 				var isConflictLine = line1 == conflict.Content1;
+ 				var lineContent = isConflictLine 
+ 					? $"[red bold]{line1Index + 1,4}: {line1.EscapeMarkup()}[/]"
+ 					: $"[dim]{line1Index + 1,4}: {line1.EscapeMarkup()}[/]";
+ 				version1Content.Add(lineContent);
  			}
- 		}
- 
- 		// Add the conflicting content
- 		version1Content.Add($"[red bold]{conflict.LineNumber,4}: {(conflict.Content1 ?? "(deleted)").EscapeMarkup()}[/]");
- 		version2Content.Add($"[green bold]{conflict.LineNumber,4}: {(conflict.Content2 ?? "(added)").EscapeMarkup()}[/]");
+ 			else if (conflict.Content1 != null && i == contextLines)
+ 			{
+ 				// Add the conflict content if it wasn't found in the original lines
+ 				version1Content.Add($"[red bold]{conflictLineIndex + 1,4}: {conflict.Content1.EscapeMarkup()}[/]");
+ 			}
+ 			else
+ 			{
+ 				version1Content.Add($"[dim]{line1Index + 1,4}: [/]");
+ 			}
  
- 		// Add context after conflict
- 		for (var i = conflictLineIndex + 1; i <= endContextIndex; i++)
- 		{
- 			if (i < mergedLines.Count)
+ 			// Version 2 content
+ 			if (line2Index <= endContext2 && line2Index < originalLines2.Length)
  			{
- 				var line = mergedLines[i];
- 				if (!line.Contains("<<<<<<< Version") && !line.Contains("=======") && !line.Contains(">>>>>>> Version"))
- 				{
- 					version1Content.Add($"[dim]{i + 1,4}: {line.EscapeMarkup()}[/]");
- 					version2Content.Add($"[dim]{i + 1,4}: {line.EscapeMarkup()}[/]");
+ 				var line2 = originalLines2[line2Index];
+ 				var isConflictLine = line2 == conflict.Content2;
+ 				var lineContent = isConflictLine 
+ 					? $"[green bold]{line2Index + 1,4}: {line2.EscapeMarkup()}[/]"
+ 					: $"[dim]{line2Index + 1,4}: {line2.EscapeMarkup()}[/]";
+ 				version2Content.Add(lineContent);
+ 			}
+ 			else if (conflict.Content2 != null && i == contextLines)
+ 			{
+ 				// Add the conflict content if it wasn't found in the original lines
+ 				version2Content.Add($"[green bold]{conflictLineIndex + 1,4}: {conflict.Content2.EscapeMarkup()}[/]");
+ 			}
+ 			else
+ 			{
+ 				version2Content.Add($"[dim]{line2Index + 1,4}: [/]");
+ 			}
+ 		}
+ 
+ 		// Special handling for deletions and additions
+ 		if (conflict.Content1 == null)
+ 		{
+ 			version1Content.Add($"[red bold]{conflictLineIndex + 1,4}: (deleted)[/]");
  		}
- 			}
+ 		if (conflict.Content2 == null)
+ 		{
+ 			version2Content.Add($"[green bold]{conflictLineIndex + 1,4}: (added)[/]");
  		}
  
```

---

Now let's test the enhanced interactive merge functionality. Let me create a simple test to see how this works:

---

```bash
cd /c%3A/dev/ktsu-dev/DiffMore && dotnet build
```

```
 PS C:\dev\ktsu-dev\DiffMore >
  10:03:00   DiffMore 
  20:03:00 main  ?1 ~2
 PS C:\dev\ktsu-dev\DiffMore >


























  10:03:01   DiffMore  
  20:03:01 main  ?1 ~2 
 PS C:\dev\ktsu-dev\DiffMore >
```

---

```bash
dotnet build
```

```
 PS C:\dev\ktsu-dev\DiffMore >dotnet build

  C:\dev\ktsu-dev\DiffMore\DiffMore.sln                                    Restore (0.0s) 
  DiffMore.ConsoleApp failed with 1 error(s) (0.4s)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(1142,3): error IDE2003: Blank 
line required between block and subsequent statement (https://learn.microsoft.com/dotnet/f
undamentals/code-analysis/style-rules/ide2003)

Build failed with 1 error(s) in 4.4s
  10:03:09   DiffMore  4.616s   1 - ERROR 
  20:03:09 main  ?1 ~2 
 PS C:\dev\ktsu-dev\DiffMore >
```

---

There's a formatting issue. Let me fix it:

---

Read file: DiffMore.ConsoleApp/Program.cs

---

I need to add a blank line after the closing brace. Let me fix it:

---



---

Let me check the exact location of the error:

---

Read file: DiffMore.ConsoleApp/Program.cs

---

I can see that line 1142 is referring to line 1142 in the method, which should be right after the closing brace. Let me add the blank line:

---



---

Let me try a different approach - let me check what the exact issue is by looking at the specific line that has the error:

---

<details>
            <summary>Grep search for "/// <summary>[\s]*/// Applies conflict resolutions" • **0** files</summary>
        
No results found
</details>

---

<details>
            <summary>Grep search for "}\n\t/// <summary>" • **0** files</summary>
        
No results found
</details>

---

Let me try a simpler approach and just add the blank line where it should be:

---



---

Let me view the file around line 1142 to understand the exact issue:

---

```bash
Get-Content "DiffMore.ConsoleApp/Program.cs" | Select-Object -Skip 1140 -First 5 | ForEach-Object { $i = 1141 + @(0..($_.GetHashCode() % 10)) | Measure-Object -Sum | Select-Object -ExpandProperty Sum; "$($i): $_" }
```

```
  20:03:54 main  ?1 ~2 
 PS C:\dev\ktsu-dev\DiffMore >Get-Content "DiffMore.ConsoleApp/Program.cs" | Select-Object


```

---

Let me use a different approach to see the specific lines:

---

```bash
type DiffMore.ConsoleApp\Program.cs | findstr /n "."
```

```
  10:03:59   DiffMore 
  20:03:59 main  ?1 ~2
 PS C:\dev\ktsu-dev\DiffMore >"
>




```

---

Let me find the exact issue by looking around line 1142:

---

Read file: DiffMore.ConsoleApp/Program.cs

---

I can see the issue now - line 1142 is where we have `	}` followed immediately by `	/// <summary>`. The editorconfig requires a blank line between them. Let me fix this:

---



---

I think there's an issue with the detection of the exact line. Let me use a direct replacement targeting that specific area:

---



---

Let me try a different approach. I'll recreate the entire end of the ShowConflictWithContext method and beginning of ApplyConflictResolutions to fix the issue:

---



---

Let me try with a line break character explicitly in the edit:

---

```bash
cd DiffMore.ConsoleApp && (Get-Content Program.cs) -replace '\t\}\r?\n\t///', "`t}`n`n`t///" | Set-Content Program.cs
```

```
Please report on GitHub: https://github.com/PowerShell/PSReadLine/issues/new?template=Bug_
Report.yaml
Thank you!

### Environment
PSReadLine: 2.3.6+d2e770f93b7a53d8660a6402eb29d1ae1c35e767
PowerShell: 7.5.1
OS: Microsoft Windows 10.0.26100
BufferWidth: 90
BufferHeight: 1

Last 200 Keys:

 l e c t - O b j e c t Spacebar - E x p a n d P r o p e r t y Spacebar S u m ; Spacebar " 
$ ( $ i ) : Spacebar $ _ " Spacebar } Enter
 t y p e Spacebar D i f f M o r e . C o n s o l e A p p \ P r o g r a m . c s Spacebar | S
pacebar f i n d s t r Spacebar / n Spacebar " . " Enter
 c d Spacebar D i f f M o r e . C o n s o l e A p p Spacebar & & Spacebar ( G e t - C o n 
t e n t Spacebar P r o g r a m . c s ) Spacebar - r e p l a c e Spacebar ' \ t \ } \ r ? \
 n \ t / / / ' , Spacebar " ` t } ` n ` n ` t / / / " Spacebar | Spacebar S e t - C


### Exception

System.ArgumentOutOfRangeException: The value must be greater than or equal to zero and le
ss than the console's buffer size in that dimension. (Parameter 'top')
Actual value was 4.
   at System.ConsolePal.SetCursorPosition(Int32 left, Int32 top)
   at Microsoft.PowerShell.PSConsoleReadLine.ReallyRender(RenderData renderData, String de
faultColor)
   at Microsoft.PowerShell.PSConsoleReadLine.ForceRender()
   at Microsoft.PowerShell.PSConsoleReadLine.Render()
   at Microsoft.PowerShell.PSConsoleReadLine.ProcessOneKey(PSKeyInfo key, Dictionary`2 dis
patchTable, Boolean ignoreIfNoAction, Object arg)
   at Microsoft.PowerShell.PSConsoleReadLine.InputLoop()
   at Microsoft.PowerShell.PSConsoleReadLine.ReadLine(Runspace runspace, EngineIntrinsics 
engineIntrinsics, CancellationToken cancellationToken, Nullable`1 lastRunStatus)



  10:04:40   DiffMore  
  20:04:40 main  ?1 ~2 
 PS C:\dev\ktsu-dev\DiffMore >Content Program.cs












```

---

Let me try building to see if the issue was fixed:

---

```bash
dotnet build
```

```
 PS C:\dev\ktsu-dev\DiffMore >dotnet build

  C:\dev\ktsu-dev\DiffMore\DiffMore.sln                                    Restore (0.0s) 
Restore complete (0.6s)
  DiffMore.Core succeeded (0.1s) → DiffMore.Core\bin\Debug\net9.0\ktsu.DiffMore.Core.dll

    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(1142,3): error IDE2003: Blank 
line required between block and subsequent statement (https://learn.microsoft.com/dotnet/f
undamentals/code-analysis/style-rules/ide2003)

Build failed with 1 error(s) in 1.4s
  10:04:46   DiffMore  1.569s   1 - ERROR 
  20:04:46 main  ?1 ~2 

```

---

Let me try a simpler approach using sed to fix the line break issue:

---

```bash
cd DiffMore.ConsoleApp && sed -i 's/^\t}$/\t}\n/' Program.cs
```

```
 PS C:\dev\ktsu-dev\DiffMore >cd DiffMore.ConsoleApp && sed -i 's/^\t}$/\t}\n/' Program.cs

  10:05:03   DiffMore  88ms  
  20:05:03 main  ?1 ~2 
 PS C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp >
```

---

Now let me go back to the main directory and try building again:

---

```bash
cd .. && dotnet build
```

```
 PS C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp >cd .. && dotnet build

  C:\dev\ktsu-dev\DiffMore\DiffMore.sln                                    Restore (0.0s)
                                                                                   (0.1s) 
Restore complete (0.6s)
  DiffMore.Core succeeded (0.1s) → DiffMore.Core\bin\Debug\net9.0\ktsu.DiffMore.Core.dll

  DiffMore.ConsoleApp failed with 122 error(s) (0.4s)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(1,26): error IDE0055: Fix form
atting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(2,24): error IDE0055: Fix form
atting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(3,35): error IDE0055: Fix form
atting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(12,23): error IDE0055: Fix for
matting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055
)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(18,2): error IDE0055: Fix form
atting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(31,17): error IDE0055: Fix for
matting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055
)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(33,53): error IDE0055: Fix for
matting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055
)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(44,5): error IDE0055: Fix form
atting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(46,27): error IDE0055: Fix for
matting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055
)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(61,3): error IDE0055: Fix form
atting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(74,3): error IDE0055: Fix form
atting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(126,3): error IDE0055: Fix for
matting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055
)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(144,3): error IDE0055: Fix for
matting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055
)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(171,3): error IDE0055: Fix for
matting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055
)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(195,3): error IDE0055: Fix for
matting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055
)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(231,3): error IDE0055: Fix for
matting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055
)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(239,3): error IDE0055: Fix for
matting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055
)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(240,35): error IDE0055: Fix fo
rmatting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide005
5)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(254,6): error IDE0055: Fix for
matting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055
)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(256,27): error IDE0055: Fix fo
rmatting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide005
5)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(258,46): error IDE0055: Fix fo
rmatting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide005
5)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(260,51): error IDE0055: Fix fo
rmatting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide005
5)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(274,3): error IDE0055: Fix for
matting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055
)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(312,3): error IDE0055: Fix for
matting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055
)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(334,53): error IDE0055: Fix fo
rmatting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide005
5)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(368,3): error IDE0055: Fix for
matting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055
)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(392,3): error IDE0055: Fix for
matting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055
)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(412,3): error IDE0055: Fix for
matting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055
)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(426,69): error IDE0055: Fix fo
rmatting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide005
5)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(444,3): error IDE0055: Fix for
matting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055
)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(464,3): error IDE0055: Fix for
matting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055
)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(487,27): error IDE0055: Fix fo
rmatting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide005
5)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(489,51): error IDE0055: Fix fo
rmatting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide005
5)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(536,5): error IDE0055: Fix for
matting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055
)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(538,37): error IDE0055: Fix fo
rmatting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide005
5)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(568,3): error IDE0055: Fix for
matting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055
)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(589,3): error IDE0055: Fix for
matting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055
)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(629,28): error IDE0055: Fix fo
rmatting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide005
5)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(631,59): error IDE0055: Fix fo
rmatting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide005
5)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(637,3): error IDE0055: Fix for
matting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055
)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(656,3): error IDE0055: Fix for
matting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055
)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(673,27): error IDE0055: Fix fo
rmatting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide005
5)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(675,40): error IDE0055: Fix fo
rmatting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide005
5)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(705,4): error IDE0055: Fix for
matting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055
)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(707,25): error IDE0055: Fix fo
rmatting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide005
5)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(744,3): error IDE0055: Fix for
matting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055
)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(759,108): error IDE0055: Fix f
ormatting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide00
55)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(761,66): error IDE0055: Fix fo
rmatting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide005
5)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(775,6): error IDE0055: Fix for
matting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055
)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(777,51): error IDE0055: Fix fo
rmatting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide005
5)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(788,7): error IDE0055: Fix for
matting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055
)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(790,72): error IDE0055: Fix fo
rmatting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide005
5)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(795,3): error IDE0055: Fix for
matting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055
)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(803,3): error IDE0055: Fix for
matting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055
)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(804,65): error IDE0055: Fix fo
rmatting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide005
5)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(812,4): error IDE0055: Fix for
matting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055
)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(813,26): error IDE0055: Fix fo
rmatting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide005
5)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(819,5): error IDE0055: Fix for
matting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055
)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(820,63): error IDE0055: Fix fo
rmatting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide005
5)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(824,5): error IDE0055: Fix for
matting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055
)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(825,60): error IDE0055: Fix fo
rmatting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide005
5)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(834,5): error IDE0055: Fix for
matting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055
)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(836,34): error IDE0055: Fix fo
rmatting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide005
5)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(839,85): error IDE0055: Fix fo
rmatting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide005
5)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(841,24): error IDE0055: Fix fo
rmatting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide005
5)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(848,5): error IDE0055: Fix for
matting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055
)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(850,21): error IDE0055: Fix fo
rmatting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide005
5)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(852,48): error IDE0055: Fix fo
rmatting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide005
5)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(854,51): error IDE0055: Fix fo
rmatting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide005
5)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(856,106): error IDE0055: Fix f
ormatting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide00
55)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(880,3): error IDE0055: Fix for
matting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055
)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(898,3): error IDE0055: Fix for
matting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055
)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(930,3): error IDE0055: Fix for
matting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055
)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(946,4): error IDE0055: Fix for
matting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide0055
)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(947,34): error IDE0055: Fix fo
rmatting (https://learn.microsoft.com/dotnet/fundamentals/code-analysis/style-rules/ide005
5)
55)
    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(1142,3): error IDE2003: Blank 
line required between block and subsequent statement (https://learn.microsoft.com/dotnet/f
undamentals/code-analysis/style-rules/ide2003)

Build failed with 122 error(s) in 1.4s
  10:05:09   DiffMore  1.663s   1 - ERROR 
  20:05:09 main  ?1 ~2 

```

---

It seems the sed command corrupted the file formatting. Let me restore the file from git and try a different approach:

---

```bash
git checkout -- DiffMore.ConsoleApp/Program.cs
```

```
 PS C:\dev\ktsu-dev\DiffMore >get-Content "DiffMore.ConsoleApp/Program.cs" | Select-Object
 -Skip 1140 -First 5 | ForEach-Object { $i = 1141 + @(0..($_.GetHashCode() % 10)) | Measur
e-Object -Sum | Select-Object git checkout -- DiffMore.ConsoleApp/Program.cs


  10:05:51   DiffMore  541ms  
  20:05:51 main  ?1 ~1 

```

---

Now let me carefully re-apply just the changes I made, with proper formatting:

---

```diff
  	{
  		MergeResult mergeResult;
+ 		string[]? originalLines1 = null;
+ 		string[]? originalLines2 = null;
  
  		if (existingMergedContent != null)
```

```diff
  			var mergedLines = existingMergedContent.Split(Environment.NewLine);
  			var file2Lines = File.ReadAllLines(file2);
+ 			originalLines1 = mergedLines;
+ 			originalLines2 = file2Lines;
  			mergeResult = FileDiffer.MergeLines(mergedLines, file2Lines);
  		}
  		else
  		{
  			// Merge two files
+ 			originalLines1 = File.ReadAllLines(file1);
+ 			originalLines2 = File.ReadAllLines(file2);
  			mergeResult = FileDiffer.MergeFiles(file1, file2);
  		}
```

```diff
  		return !AnsiConsole.Confirm("[cyan]Would you like to resolve conflicts interactively?[/]", true)
  			? null
- 			: ResolveConflictsInteractively(mergeResult);
+ 			: ResolveConflictsInteractively(mergeResult, originalLines1, originalLines2);
  	}
  
```

```diff
  	/// </summary>
  	/// <param name="mergeResult">The merge result with conflicts</param>
+ 	/// <param name="originalLines1">Original lines of the first file</param>
+ 	/// <param name="originalLines2">Original lines of the second file</param>
  	/// <returns>The resolved merge result</returns>
- 	private static MergeResult ResolveConflictsInteractively(MergeResult mergeResult)
+ 	private static MergeResult ResolveConflictsInteractively(MergeResult mergeResult, string[]? originalLines1, string[]? originalLines2)
  	{
  		var rule = new Rule("[bold]Interactive Conflict Resolution[/]")
```

---

Now let me add the ShowConflictWithContext method and update the method call:

---

```diff
  			AnsiConsole.MarkupLine($"[yellow]Conflict {conflictIndex}/{mergeResult.Conflicts.Count} at line {conflict.LineNumber}:[/]");
  
- 			// Show the conflict
+ 			// Show the conflict with context in side-by-side view
+ 			if (originalLines1 != null && originalLines2 != null)
+ 			{
+ 				ShowConflictWithContext(conflict, originalLines1, originalLines2);
+ 			}
+ 			else
+ 			{
+ 				// Fallback to simple display if original lines are not available
  				var panel = new Panel(
  					$"[red]Version 1:[/]\n{conflict.Content1 ?? "(deleted)"}\n\n" +
```

```diff
  				};
  				AnsiConsole.Write(panel);
+ 			}
  
  			// Let user choose resolution
```

```diff
  		};
  	}
+ 
+ 	/// <summary>
+ 	/// Shows a conflict with context lines in a side-by-side view
+ 	/// </summary>
+ 	/// <param name="conflict">The conflict to display</param>
+ 	/// <param name="originalLines1">Original lines from first file/content</param>
+ 	/// <param name="originalLines2">Original lines from second file/content</param>
+ 	private static void ShowConflictWithContext(MergeConflict conflict, string[] originalLines1, string[] originalLines2)
+ 	{
+ 		const int contextLines = 3; // Number of context lines before and after conflict
+ 
+ 		// Find the approximate line numbers in original files
+ 		// This is a simplified approach - we use the conflict line number as a reference
+ 		var conflictLineIndex = Math.Max(0, conflict.LineNumber - 1);
+ 		
+ 		// For simplicity, we'll show context around the same line number in both files
+ 		// In a more sophisticated implementation, we'd track the actual mapping
+ 		var startContext1 = Math.Max(0, conflictLineIndex - contextLines);
+ 		var endContext1 = Math.Min(originalLines1.Length - 1, conflictLineIndex + contextLines);
+ 		var startContext2 = Math.Max(0, conflictLineIndex - contextLines);
+ 		var endContext2 = Math.Min(originalLines2.Length - 1, conflictLineIndex + contextLines);
+ 
+ 		// Build version 1 content (left side)
+ 		var version1Content = new List<string>();
+ 		var version2Content = new List<string>();
+ 
+ 		// Add context and highlight the conflict area
+ 		var maxLines = Math.Max(endContext1 - startContext1 + 1, endContext2 - startContext2 + 1);
+ 		
+ 		for (var i = 0; i < maxLines; i++)
+ 		{
+ 			var line1Index = startContext1 + i;
+ 			var line2Index = startContext2 + i;
+ 			
+ 			// Version 1 content
+ 			if (line1Index <= endContext1 && line1Index < originalLines1.Length)
+ 			{
+ 				var line1 = originalLines1[line1Index];
+ 				var isConflictLine = line1 == conflict.Content1;
+ 				var lineContent = isConflictLine 
+ 					? $"[red bold]{line1Index + 1,4}: {line1.EscapeMarkup()}[/]"
+ 					: $"[dim]{line1Index + 1,4}: {line1.EscapeMarkup()}[/]";
+ 				version1Content.Add(lineContent);
+ 			}
+ 			else if (conflict.Content1 != null && i == contextLines)
+ 			{
+ 				// Add the conflict content if it wasn't found in the original lines
+ 				version1Content.Add($"[red bold]{conflictLineIndex + 1,4}: {conflict.Content1.EscapeMarkup()}[/]");
+ 			}
+ 			else
+ 			{
+ 				version1Content.Add($"[dim]{line1Index + 1,4}: [/]");
+ 			}
+ 
+ 			// Version 2 content
+ 			if (line2Index <= endContext2 && line2Index < originalLines2.Length)
+ 			{
+ 				var line2 = originalLines2[line2Index];
+ 				var isConflictLine = line2 == conflict.Content2;
+ 				var lineContent = isConflictLine 
+ 					? $"[green bold]{line2Index + 1,4}: {line2.EscapeMarkup()}[/]"
+ 					: $"[dim]{line2Index + 1,4}: {line2.EscapeMarkup()}[/]";
+ 				version2Content.Add(lineContent);
+ 			}
+ 			else if (conflict.Content2 != null && i == contextLines)
+ 			{
+ 				// Add the conflict content if it wasn't found in the original lines
+ 				version2Content.Add($"[green bold]{conflictLineIndex + 1,4}: {conflict.Content2.EscapeMarkup()}[/]");
+ 			}
+ 			else
+ 			{
+ 				version2Content.Add($"[dim]{line2Index + 1,4}: [/]");
+ 			}
+ 		}
+ 
+ 		// Special handling for deletions and additions
+ 		if (conflict.Content1 == null)
+ 		{
+ 			version1Content.Add($"[red bold]{conflictLineIndex + 1,4}: (deleted)[/]");
+ 		}
+ 		if (conflict.Content2 == null)
+ 		{
+ 			version2Content.Add($"[green bold]{conflictLineIndex + 1,4}: (added)[/]");
+ 		}
+ 
+ 		// Create side-by-side layout
+ 		var leftPanel = new Panel(string.Join("\n", version1Content))
+ 		{
+ 			Header = new PanelHeader("[red bold]Version 1[/]"),
+ 			Border = BoxBorder.Rounded,
+ 			BorderStyle = Style.Parse("red")
+ 		};
+ 
+ 		var rightPanel = new Panel(string.Join("\n", version2Content))
+ 		{
+ 			Header = new PanelHeader("[green bold]Version 2[/]"),
+ 			Border = BoxBorder.Rounded,
+ 			BorderStyle = Style.Parse("green")
+ 		};
+ 
+ 		// Create the layout with two columns
+ 		var layout = new Layout()
+ 			.SplitColumns(
+ 				new Layout("left").Update(leftPanel),
+ 				new Layout("right").Update(rightPanel)
+ 			);
+ 
+ 		AnsiConsole.Write(layout);
+ 		AnsiConsole.WriteLine();
+ 	}
  
  	/// <summary>
```

---

Now let me build the project to see if it compiles successfully:

---

```bash
dotnet build
```

```
 PS C:\dev\ktsu-dev\DiffMore >dotnet build

  C:\dev\ktsu-dev\DiffMore\DiffMore.sln                                    Restore (0.0s) 
Restore complete (0.5s)
  DiffMore.Core succeeded (0.1s) → DiffMore.Core\bin\Debug\net9.0\ktsu.DiffMore.Core.dll

    C:\dev\ktsu-dev\DiffMore\DiffMore.ConsoleApp\Program.cs(1157,3): error IDE2003: Blank 
line required between block and subsequent statement (https://learn.microsoft.com/dotnet/f
undamentals/code-analysis/style-rules/ide2003)

Build failed with 1 error(s) in 1.2s
  10:07:01   DiffMore  1.415s   1 - ERROR 
  20:07:01 main  ?1 ~2 

```

---



I still have the same formatting issue. Let me check the exact line and fix it:

---



---



---

